= devise_error_messages!
.col-md-4.col-md-offset-4
  = form_for(resource, as: resource_name,
                       html: { class: 'form', method: 'put' },
                       url: registration_path(resource_name)) do |f|
    %fieldset
      %legend= t(:edit_user)
    .form-group
      = f.label :name
      = f.text_field :name, autofocus: true, class: 'form-control'
    .form-group
      = f.label :email
      = f.email_field :email, class: 'form-control'
    - if devise_mapping.confirmable? && resource.pending_reconfirmation?
      .form-group
        Currently waiting confirmation for: #{resource.unconfirmed_email}
    .form-group
      = f.label :password
      = f.password_field :password, autocomplete: "off", class: 'form-control'
    .form-group
      = f.label :password_confirmation
      = f.password_field :password_confirmation, autocomplete: "off",
                                                 class: 'form-control'
    .form-group
      = f.label :current_password
      %i= t(:current_password_to_confirm_changes)
      = f.password_field :current_password, autocomplete: "off",
                                            class: 'form-control'
    = f.submit nil, class: 'btn btn-primary btn-block'
  %br
  = form_tag registration_path(resource_name), class: 'form', method: :delete,
                                               data: { confirm: t(:sure) } do
    %legend= t(:unhappy)
    = submit_tag 'Cancel my account', class: 'btn btn-warning btn-block'
  %br
  = link_to "Back", :back
