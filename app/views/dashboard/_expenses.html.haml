%form.form-inline{ 'ng-submit' => 'createExpense()' }
  .form-group
    = text_field_tag nil, nil, placeholder: t(:add_expense), class: 'form-control', 'ng-model' => 'newExpense.name'
  .form-group
    = number_field_tag nil, nil, min: 0, placeholder: t(:amount), class: 'form-control', 'ng-model' => 'newExpense.amount'
  .form-group
    = select_tag nil, options_from_collection_for_select(@expense_types, 'id', 'name'), class: 'form-control', 'ng-model' => 'newExpense.entry_type_id', required: true
  = submit_tag t(:add), class: 'btn btn-default'
.height-20
.panel.panel-default
  .panel-heading
    %h3.panel-title= t(:expense, count: 2)
  .panel-body
    %table.table.table-normal
      %tr
        %th= t(:name)
        %th.hidden-xs= t(:type)
        %th= t(:amount)
        %th= t(:datetime)
        %th.hidden-xs
      %tr{ 'ng-repeat' => 'expense in expenses' }
        %td {{expense.name}}
        %td.hidden-xs {{expense.type_name}}
        %td {{expense.amount}}
        %td {{expense.created_at}}
        %td.hidden-xs
          .close{ 'ng-click' => 'destroyExpense(expense.id)' } &times;
      %tr
        %td.hidden-xs
        %td= t(:total)
        %td.bold {{totalExpense()}}
        %td
        %td.hidden-xs
